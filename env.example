# Enhanced Stellar Risk & Liquidity Management System
# Environment Configuration

# ==============================================
# NETWORK CONFIGURATION
# ==============================================

# Stellar Network
STELLAR_NETWORK=TESTNET
STELLAR_RPC_URL=https://soroban-testnet.stellar.org
HORIZON_URL=https://horizon-testnet.stellar.org

# Network Passphrase
STELLAR_NETWORK_PASSPHRASE="Test SDF Network ; September 2015"

# ==============================================
# SMART CONTRACTS
# ==============================================

# Risk Tier Management Contract
NEXT_PUBLIC_RISK_TIER_CONTRACT_ID=CD6NTP2JCX4F3V4RLIJFLGSG7SVTAPXMKKD3BTF4DY5NCV7YAO3OLABN

# Original Risk Score Contract (backward compatibility)
NEXT_PUBLIC_RISK_SCORE_CONTRACT_ID=CD6NTP2JCX4F3V4RLIJFLGSG7SVTAPXMKKD3BTF4DY5NCV7YAO3OLABN

# Smart Wallet Factory (Passkey-Kit)
NEXT_PUBLIC_PASSKEY_FACTORY_CONTRACT=your_passkey_factory_contract_here

# ==============================================
# PASSKEY-KIT CONFIGURATION
# ==============================================

# Launchtube API for gas sponsorship
NEXT_PUBLIC_LAUNCHTUBE_API_URL=https://api.launchtube.xyz
NEXT_PUBLIC_LAUNCHTUBE_SPONSOR_ACCOUNT=your_sponsor_account_here

# Passkey Configuration
NEXT_PUBLIC_PASSKEY_ENABLED=true
NEXT_PUBLIC_WEBAUTHN_ORIGIN=http://localhost:3000

# ==============================================
# BACKEND SERVICES
# ==============================================

# Redis Configuration (for liquidity monitoring)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# Liquidity Monitor Configuration
MONITORING_INTERVAL=300000
LIQUIDITY_API_PORT=3001

# ==============================================
# API ENDPOINTS
# ==============================================

# Internal APIs
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api
NEXT_PUBLIC_LIQUIDITY_API_URL=http://localhost:3001

# External APIs
HORIZON_API_TIMEOUT=30000
RPC_API_TIMEOUT=15000

# ==============================================
# SECURITY & AUTHENTICATION
# ==============================================

# JWT Secret for backend authentication
JWT_SECRET=your_super_secure_jwt_secret_here

# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_WINDOW_MS=60000

# ==============================================
# RISK ANALYSIS CONFIGURATION
# ==============================================

# Risk Score Calculation Parameters
RISK_WEIGHT_TX_COUNT=0.3
RISK_WEIGHT_TIME_INTERVAL=0.25
RISK_WEIGHT_ASSET_DIVERSITY=0.25
RISK_WEIGHT_AMOUNT_PATTERN=0.1
RISK_WEIGHT_NIGHT_RATIO=0.1

# TVL Tier Thresholds (in USD)
TIER_1_THRESHOLD=1000000
TIER_2_THRESHOLD=250000
TIER_3_THRESHOLD=0

# ==============================================
# DEVELOPMENT & DEBUGGING
# ==============================================

# Debug Flags
DEBUG_LIQUIDITY_MONITORING=false
DEBUG_RISK_CALCULATIONS=false
DEBUG_PASSKEY_OPERATIONS=false
DEBUG_CONTRACT_CALLS=false

# Performance Monitoring
ENABLE_PERFORMANCE_METRICS=true
METRICS_ENDPOINT=/api/metrics

# ==============================================
# PRODUCTION OVERRIDES
# ==============================================

# These will be overridden in production
NODE_ENV=development
NEXT_PUBLIC_ENVIRONMENT=development

# Production URLs (commented out for development)
# NEXT_PUBLIC_API_BASE_URL=https://your-production-domain.com/api
# NEXT_PUBLIC_LIQUIDITY_API_URL=https://liquidity-api.your-domain.com
# STELLAR_NETWORK=PUBLIC
# STELLAR_RPC_URL=https://soroban.stellar.org

# ==============================================
# FEATURE FLAGS
# ==============================================

# Enable/Disable Features
FEATURE_PASSKEY_WALLET=true
FEATURE_LIQUIDITY_MONITORING=true
FEATURE_RISK_TIER_SYSTEM=true
FEATURE_AUTO_RISK_ANALYSIS=true
FEATURE_LAUNCHTUBE_SPONSORSHIP=true

# Demo Mode Settings
DEMO_MODE=false
DEMO_POOLS_ONLY=false

# ==============================================
# EXTERNAL INTEGRATIONS
# ==============================================

# Price Feed APIs (for TVL calculation)
COINGECKO_API_KEY=your_coingecko_api_key_here
STELLAR_EXPERT_API_URL=https://api.stellar.expert

# Notification Services
WEBHOOK_URL=your_webhook_url_for_notifications
DISCORD_WEBHOOK_URL=your_discord_webhook_for_alerts

# ==============================================
# DOCUMENTATION & PRESENTATION
# ==============================================

# Links for methodology explanation
GOLDFINCH_DOCS_URL=https://docs.goldfinch.finance
MAPLE_DOCS_URL=https://docs.maple.finance
PASSKEY_KIT_DOCS_URL=https://docs.stellar.org/passkey-kit
GUESTBOOK_EXAMPLE_URL=https://github.com/stellar/guestbook-example

# ==============================================
# USAGE INSTRUCTIONS
# ==============================================

# 1. Copy this file to .env.local:
#    cp .env.example .env.local

# 2. Fill in your actual values for:
#    - Contract IDs (deploy contracts first)
#    - Redis connection details
#    - Launchtube sponsor account
#    - API keys

# 3. For development, you can leave demo values

# 4. For production, ensure all security-sensitive
#    values are properly configured

# ==============================================
# CONTRACT DEPLOYMENT COMMANDS
# ==============================================

# Deploy Risk Tier Contract:
# stellar contract deploy \
#   --wasm risk_score/target/wasm32-unknown-unknown/release/risk_score.wasm \
#   --source-account YOUR_ACCOUNT \
#   --network testnet

# Generate TypeScript bindings:
# stellar contract bindings typescript \
#   --network testnet \
#   --source-account YOUR_ACCOUNT \
#   --contract-id YOUR_CONTRACT_ID \
#   --output-dir ./src/lib/generated

# ==============================================
# BACKEND SERVICE STARTUP
# ==============================================

# Start Redis:
# redis-server

# Start Liquidity Monitor:
# cd backend && npm start

# Start Next.js Frontend:
# npm run dev 